{"ast":null,"code":"import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const api_base='http://localhost:3001';function App(){const[todos,setTodos]=useState([]);const[popupActive,setPopupActive]=useState(false);const[newTodo,setNewTodo]=useState(\"\");useEffect(()=>{GetTodos();},[]);const GetTodos=()=>{fetch(api_base+'/todos').then(res=>res.json()).then(data=>setTodos(data)).catch(err=>console.error(\"Error: \",err));};const completeTodo=async id=>{const data=await fetch(api_base+'/todo/complete/'+id).then(res=>res.json());setTodos(todos=>todos.map(todo=>{if(todo._id===data._id){todo.complete=data.complete;}return todo;}));};const addTodo=async()=>{const data=await fetch(api_base+\"/todo/new\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({text:newTodo})}).then(res=>res.json());setTodos([...todos,data]);setPopupActive(false);setNewTodo(\"\");};const deleteTodo=async id=>{const data=await fetch(api_base+'/todo/delete/'+id,{method:\"DELETE\"}).then(res=>res.json());setTodos(todos=>todos.filter(todo=>todo._id!==data.result._id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome, Erik\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Your tasks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"todos\",children:todos.length>0?todos.map(todo=>/*#__PURE__*/_jsxs(\"div\",{className:\"todo\"+(todo.complete?\" is-complete\":\"\"),onClick:()=>completeTodo(todo._id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkbox\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:todo.text}),/*#__PURE__*/_jsx(\"div\",{className:\"delete-todo\",onClick:()=>deleteTodo(todo._id),children:\"x\"})]},todo._id)):/*#__PURE__*/_jsx(\"p\",{children:\"You currently have no tasks\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"addPopup\",onClick:()=>setPopupActive(true),children:\"+\"}),popupActive?/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"closePopup\",onClick:()=>setPopupActive(false),children:\"X\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Task\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"add-todo-input\",onChange:e=>setNewTodo(e.target.value),value:newTodo}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",onClick:addTodo,children:\"Create Task\"})]})]}):'']});}export default App;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","api_base","App","todos","setTodos","popupActive","setPopupActive","newTodo","setNewTodo","GetTodos","fetch","then","res","json","data","catch","err","console","error","completeTodo","id","map","todo","_id","complete","addTodo","method","headers","body","JSON","stringify","text","deleteTodo","filter","result","className","children","length","onClick","type","onChange","e","target","value"],"sources":["C:/Users/ERock/Projects/JS-Task-List-app/client/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nconst api_base = 'http://localhost:3001';\r\n\r\nfunction App() {\r\n\tconst [todos, setTodos] = useState([]);\r\n\tconst [popupActive, setPopupActive] = useState(false);\r\n\tconst [newTodo, setNewTodo] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tGetTodos();\r\n\t}, []);\r\n\r\n\tconst GetTodos = () => {\r\n\t\tfetch(api_base + '/todos')\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => setTodos(data))\r\n\t\t\t.catch((err) => console.error(\"Error: \", err));\r\n\t}\r\n\r\n\tconst completeTodo = async id => {\r\n\t\tconst data = await fetch(api_base + '/todo/complete/' + id).then(res => res.json());\r\n\r\n\t\tsetTodos(todos => todos.map(todo => {\r\n\t\t\tif (todo._id === data._id) {\r\n\t\t\t\ttodo.complete = data.complete;\r\n\t\t\t}\r\n\r\n\t\t\treturn todo;\r\n\t\t}));\r\n\t\t\r\n\t}\r\n\r\n\tconst addTodo = async () => {\r\n\t\tconst data = await fetch(api_base + \"/todo/new\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\" \r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttext: newTodo\r\n\t\t\t})\r\n\t\t}).then(res => res.json());\r\n\r\n\t\tsetTodos([...todos, data]);\r\n\r\n\t\tsetPopupActive(false);\r\n\t\tsetNewTodo(\"\");\r\n\t}\r\n\r\n\tconst deleteTodo = async id => {\r\n\t\tconst data = await fetch(api_base + '/todo/delete/' + id, { method: \"DELETE\" }).then(res => res.json());\r\n\r\n\t\tsetTodos(todos => todos.filter(todo => todo._id !== data.result._id));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<h1>Welcome, Erik</h1>\r\n\t\t\t<h4>Your tasks</h4>\r\n\r\n\t\t\t<div className=\"todos\">\r\n\t\t\t\t{todos.length > 0 ? todos.map(todo => (\r\n\t\t\t\t\t<div className={\r\n\t\t\t\t\t\t\"todo\" + (todo.complete ? \" is-complete\" : \"\")\r\n\t\t\t\t\t} key={todo._id} onClick={() => completeTodo(todo._id)}>\r\n\t\t\t\t\t\t<div className=\"checkbox\"></div>\r\n\r\n\t\t\t\t\t\t<div className=\"text\">{todo.text}</div>\r\n\r\n\t\t\t\t\t\t<div className=\"delete-todo\" onClick={() => deleteTodo(todo._id)}>x</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)) : (\r\n\t\t\t\t\t<p>You currently have no tasks</p>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"addPopup\" onClick={() => setPopupActive(true)}>+</div>\r\n\r\n\t\t\t{popupActive ? (\r\n\t\t\t\t<div className=\"popup\">\r\n\t\t\t\t\t<div className=\"closePopup\" onClick={() => setPopupActive(false)}>X</div>\r\n\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t<h3>Add Task</h3>\r\n\t\t\t\t\t\t<input type=\"text\" className=\"add-todo-input\" onChange={e => setNewTodo(e.target.value)} value={newTodo} />\r\n\t\t\t\t\t\t<div className=\"button\" onClick={addTodo}>Create Task</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : ''}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}